---
authors: forliy
title: 2022年第19周周报
tags: [2022周报,周报]
---
import Codes4w19 from './Codes.jsx';


2022年第19周周报喵。

<!--truncate-->

## 🏗 重构
`v3.0.0.preview.10.x` 版本（也就是v3的第十个预览版本）的核心模块中的**主要**重构工作已经基本接近尾声。
如果不出意外的话，本周内将会首先发布一个过渡性版本 `v3.0.0.preview.9.x` （也就是第九个预览版本）来首先一次过渡升级与问题收集。

### 第九预览
在第九预览版本中，将会更新在第十预览版本计划重构中的主要部分：有关"应用程序"、"组件"和启动的整体重构。
在本次重构后，在 `Kotlin` 中应用各模块（核心模块、Boot模块、SpringBoot模块）的应用程序将会有如下效果：


<Codes4w19/>

其中， 上述提到的 `Simple`、`Boot`、`SpringBoot` 都是 **"应用程序工厂（`ApplicationFactory`）"** 的一种实现，
它们三个分别代表了原来的 **核心模块** 、 **Boot模块** 和 **Spring Boot Starter模块**。

而这其中的 **"应用程序（ `Application` ）"** 则是本次重构后所引入的新概念，也将会是后续作为simbot程序入口点的概念代理。

除了有关应用程序概念的产生之外，伴随着它的实现，`Boot` 模块和 `Spring Boot Starter` 模块的内部也产生了大量变化，
以及还有一些伴随产生的新东西、被移除的旧东西等。有关这些内容，会在版本发布的时候详细列于更新日志中。

### 第十预览

第十预览中应该完成本次重构计划，而最终的重构计划中，除了在第九预览中所更新的"应用程序"以外，最主要的则是对 "持续会话" API的翻新。

这还是我们尚在议论的重构内容，还请稍作等待。


### 后续
在 `v3.0.0.preview.10.x` 重构、发布完成后，在后续一段时间内将会对目前的预览版本进行简单的测试与反馈收集，并继续向着更为完善的api定义继续更新。
尚未列入上述重构计划内的待办事项中，还有：
- 针对于 **权限与角色（`Role`）** 相关API
- Bot的 **联系人** 相关API
- 数据流返回值（`Flow 、 Sequence 、Stream`）兼容问题
- 其他未考虑到的问题

如此几项内容需要进行考虑与完善。

当上述问题都得到了较为妥善的答案之后，便会考虑停止当前的**预览(preview)**阶段，转而进入**BETA**阶段。

在**BETA**阶段，将会主要以优化、bugfix和仓库、文档完善为主，尽可能不再考虑大面积的重构作业。


## 🚀 版本更新
本周内没有什么主要的版本更新，但是**预计**会在本周内或下周初发布 `v3.0.0.preview.9.0`。不过在本周之前的5月8号，
[Mirai组件](https://github.com/simple-robot/simbot-component-mirai)
发布了一个上周周报未提及的版本
[v3.0.0.0.preview.2.3](https://github.com/simple-robot/simbot-component-mirai/releases/tag/v3.0.0.0.preview.2.3)，
有兴趣的小伙伴可以去看看。


## 📖 文档更新
也许有些朋友可能会问："你们怎么还不完善文档🙏"，有关文档的完善问题，目前在 **预览版本** 阶段，api的定义可能会经常性的发生变化，
文档内容准确性难以得到保证。
并且文档的编撰需要消耗大量的精力来做，而目前团队的主要工作是尽快完成api的确定来为未来做保障。
因此对于文档完善的优先级在预览阶段结束前都不会被提前。

对于文档内容的编写，预计会在beta版本或者正式版本发布后开始逐步提上日程。

尽管如此，在这周里，当前网站内依旧发生了一些变化——与文档和代码示例有关的变化。不知道细心的你有没有发现呢？



