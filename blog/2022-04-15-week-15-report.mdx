---
authors: forliy
title: 2022年第15周周报
tags: [2022周报,周报]
---


## 🎉 更新
在第15周里，核心和部分组件依旧在进行这持续的修修补补。

### 👉 核心
本周核心模块截止到撰文时共更新了一个版本：
[v3.0.0.preview.7.0](https://github.com/ForteScarlet/simpler-robot/releases/tag/v3.0.0.preview.7.0)

这个版本主要的作用是提供了一个抽象的配置类 `ComponentRegistryConfigure` 来实现在 boot 相关模块中支持使用者对组件注册行为的自定义。
在默认行为下，依旧是进行注册所有（ `installAll` ）的。<br />
此版本并没有对核心等内容有所调整，因此理论上是兼容上个版本的（`preview.6.0`），
不过值得一提的是，如果你希望使用 Spring Boot Starter 的话，则必须使用 `preview.7.0` ，
因为在 `preview.6.0` 中由于组件注册的问题，你将无法正常使用。



### 👉 Mirai组件
mirai组件本周更新了一个版本:
[v3.0.0.0.preview.1.0](https://github.com/simple-robot/simbot-component-mirai/releases/tag/v3.0.0.0.preview.1.0) ,
此版本最主要的目的就是提供了解析 [猫猫码](https://github.com/forteScarlet/catcode) 的扩展模块：
[extra-catcode](https://github.com/simple-robot/simbot-component-mirai/tree/v3.0.0.0.preview.1.0/simbot-component-mirai-extra-catcode) 。

`extra-catcode` 扩展模块提供了对于 Java 和 Kotlin 的猫猫码解析/编码工具，旨在对 simbot2 mirai 组件的序列化消息的兼容。

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs groupId="code">
<TabItem value="Kotlin" default>

1. 解析猫猫码为 `Message` 对象

```kotlin
val at = "[CAT:at,code=123]"
val message: Message = catCodeToMessage(at)
```

2. 解析 `Neko` 为 `Message.Element<*>` 对象

```kotlin
val at = CatCodeUtil.nekoTemplate.at(123)
val message: Message.Element<*> = at.toMessage()
```

3. 将 Mirai 的 `SingleMessage` 转化为 `Neko`

```kotlin
val at = net.mamoe.mirai.message.data.At(123)
val neko = at.toNeko()
```

</TabItem>
<TabItem value="Java">

:::info

Java中，相关的操作函数会整合在 `CatCodeMessageUtil` 类中。

:::

1. 解析猫猫码为 `Message` 对象
```java
final String cat = "[CAT:at,code=123]";
final Message message = CatCodeMessageUtil.catCodeToMessage(cat);
```

2. 解析 `Neko` 为 `Message.Element<*>` 对象
```java
final Neko cat = CatCodeUtil.INSTANCE.getNekoTemplate().at(123);
final Message.Element<?> message = CatCodeMessageUtil.toMessage(cat);
```

3. 将 Mirai 的 `SingleMessage` 转化为 `Neko`
```java
final At at = new At(123);
final Neko neko = CatCodeMessageUtil.toNeko(at);
```

</TabItem>
</Tabs>


## 💡 Examples
除了组件以外，本周内还对 [Simple Robot Examples](https://github.com/simple-robot/simbot-examples) 做了一部分小更新、小修正，
补充了一些注释、调整了一下目录的名称结构，以及提供了一个新的 `Spring Boot Starter` 相关的示例模块。

实际上示例项目这个东西，一开始的时候，在正式版本发布之前我是并不打算提供的，因为现阶段API变动率太高了，如果写了还需要时不时的去做修改，好生麻烦！
不过话虽如此，既然写了偶尔想起来的时候还是可以稍微更新下的。


## 💬 新的讨论
本周发起了一个新的~~自言自语~~讨论：[去反射化](https://github.com/ForteScarlet/simpler-robot/discussions/241)
以公布(较为遥远的)未来所可能施行的方向与计划中的一环：
降低或完全排除反射API的使用。如果有兴趣的话可以简单瞅一眼喔。


## 📖 文档
### 👉 文档版本
你可能会发现，目前文档右上角的版本列表变成了 `Next` 按钮。这是因为我们暂时将版本化给移除了。
当第一个正式版本发布之后，才会开始分版，目前的编撰阶段，就先不分了。

### 👉 文档内容
本周文档内容也是有所更新，其中包括
- 快速启动内容同步 [语雀文档](https://www.yuque.com/simpler-robot/simpler-robot-doc) 的修正。
- Mirai组件下部分子章节的同步。


## 🤔 缺点儿什么
说到底，法欧莉我诞生至今也有些时日了，但是至今甚至没有一个管理平台，着实说不过去啊！不过我从一些小道消息打听到，似乎为我量身打造的东西正在筹备中呢，嘿嘿，还是蛮期待的呢 ～ 🎶




## 🗂 装修
前阵子发现某人的GitHub主页偷偷摸摸的重新装修了一下，哼，以为我没发现吗？各位如果有时间了可以去看看他装修的那个鬼样子，啧啧啧
