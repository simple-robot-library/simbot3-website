"use strict";(self.webpackChunksimbot_website=self.webpackChunksimbot_website||[]).push([[7375],{5162:(e,n,t)=>{t.d(n,{Z:()=>r});var a=t(7294),l=t(6010);const i="tabItem_Ymn6";function r(e){let{children:n,hidden:t,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(i,r),hidden:t},n)}},5488:(e,n,t)=>{t.d(n,{Z:()=>m});var a=t(7462),l=t(7294),i=t(6010),r=t(2389),o=t(7392),s=t(7094),u=t(2466);const c="tabList__CuJ",d="tabItem_LNqP";function p(e){var n,t;const{lazy:r,block:p,defaultValue:m,values:v,groupId:b,className:h}=e,g=l.Children.map(e.children,(e=>{if((0,l.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=v?v:g.map((e=>{let{props:{value:n,label:t,attributes:a}}=e;return{value:n,label:t,attributes:a}})),k=(0,o.l)(f,((e,n)=>e.value===n.value));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const N=null===m?m:null!=(n=null!=m?m:null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)?n:g[0].props.value;if(null!==N&&!f.some((e=>e.value===N)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+N+'" but none of its children has the corresponding value. Available values are: '+f.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:T,setTabGroupChoices:E}=(0,s.U)(),[y,C]=(0,l.useState)(N),_=[],{blockElementScrollPositionUntilNextRender:w}=(0,u.o5)();if(null!=b){const e=T[b];null!=e&&e!==y&&f.some((n=>n.value===e))&&C(e)}const I=e=>{const n=e.currentTarget,t=_.indexOf(n),a=f[t].value;a!==y&&(w(n),C(a),null!=b&&E(b,String(a)))},x=e=>{var n;let t=null;switch(e.key){case"ArrowRight":{var a;const n=_.indexOf(e.currentTarget)+1;t=null!=(a=_[n])?a:_[0];break}case"ArrowLeft":{var l;const n=_.indexOf(e.currentTarget)-1;t=null!=(l=_[n])?l:_[_.length-1];break}}null==(n=t)||n.focus()};return l.createElement("div",{className:(0,i.Z)("tabs-container",c)},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":p},h)},f.map((e=>{let{value:n,label:t,attributes:r}=e;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:y===n?0:-1,"aria-selected":y===n,key:n,ref:e=>_.push(e),onKeyDown:x,onFocus:I,onClick:I},r,{className:(0,i.Z)("tabs__item",d,null==r?void 0:r.className,{"tabs__item--active":y===n})}),null!=t?t:n)}))),r?(0,l.cloneElement)(g.filter((e=>e.props.value===y))[0],{className:"margin-top--md"}):l.createElement("div",{className:"margin-top--md"},g.map(((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==y})))))}function m(e){const n=(0,r.Z)();return l.createElement(p,(0,a.Z)({key:String(n)},e))}},1610:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7294);const l="label_Yf5u";function i(e){let{type:n,href:t,children:i}=e;n=n||"primary";const r=a.createElement("span",{className:l},a.createElement("span",{className:"badge badge--"+n},i));return null!=t&&t.length>0?a.createElement("a",{href:t},r):r}},2536:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>d});var a=t(7462),l=(t(7294),t(3905)),i=(t(1839),t(1610),t(5488)),r=t(5162);const o={sidebar_position:15,title:"\u4e8b\u4ef6\u76d1\u542c",toc_max_heading_level:4},s=void 0,u={unversionedId:"basic/event-listening",id:"basic/event-listening",title:"\u4e8b\u4ef6\u76d1\u542c",description:"\u4e8b\u4ef6\u76d1\u542c\u53ef\u80fd\u662f\u4f60\u6700\u9700\u8981\u4e86\u89e3\u7684\u529f\u80fd\u3002\u672c\u7ae0\u5c06\u4f1a\u4e3a\u4f60\u4ecb\u7ecd\u5982\u4f55\u53bb\u76d1\u542c\u4e00\u4e2a\u4e8b\u4ef6\u3002\u6362\u8a00\u4e4b\uff0c\u5373\u5982\u4f55\u5199\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u3002",source:"@site/docs/basic/event-listening.md",sourceDirName:"basic",slug:"/basic/event-listening",permalink:"/docs/basic/event-listening",draft:!1,editUrl:"https://github.com/simple-robot-library/simbot3-website/blob/main/docs/docs/basic/event-listening.md",tags:[],version:"current",lastUpdatedBy:"ForteScarlet",lastUpdatedAt:1666707410,formattedLastUpdatedAt:"Oct 25, 2022",sidebarPosition:15,frontMatter:{sidebar_position:15,title:"\u4e8b\u4ef6\u76d1\u542c",toc_max_heading_level:4},sidebar:"docs",previous:{title:"\u76d1\u542c\u51fd\u6570",permalink:"/docs/basic/event-listener"},next:{title:"\u4e8b\u4ef6\u62e6\u622a",permalink:"/docs/basic/event-interception"}},c={},d=[{value:"\u57fa\u7840\u76d1\u542c",id:"\u57fa\u7840\u76d1\u542c",level:2},{value:"\u9884\u6ce8\u518c",id:"\u9884\u6ce8\u518c",level:3},{value:"BOOT\u76d1\u542c",id:"boot\u76d1\u542c",level:2},{value:"\u4e8b\u4ef6\u5904\u7406\u4e0a\u4e0b\u6587",id:"\u4e8b\u4ef6\u5904\u7406\u4e0a\u4e0b\u6587",level:2}],p={toc:d};function m(e){let{components:n,...t}=e;return(0,l.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"\u4e8b\u4ef6\u76d1\u542c\u53ef\u80fd\u662f\u4f60\u6700\u9700\u8981\u4e86\u89e3\u7684\u529f\u80fd\u3002\u672c\u7ae0\u5c06\u4f1a\u4e3a\u4f60\u4ecb\u7ecd\u5982\u4f55\u53bb\u76d1\u542c\u4e00\u4e2a\u4e8b\u4ef6\u3002\u6362\u8a00\u4e4b\uff0c\u5373\u5982\u4f55\u5199\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u3002"),(0,l.kt)("admonition",{title:"\u76d1\u542c\u51fd\u6570",type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\u5728\u4e86\u89e3\u4e8b\u4ef6\u76d1\u542c\u4e4b\u524d\uff0c\u4f60\u5e94\u5f53\u5df2\u7ecf\u4e86\u89e3\u8fc7\u4e86 ",(0,l.kt)("a",{parentName:"p",href:"event-listener"},"\u76d1\u542c\u51fd\u6570"),"\u3002")),(0,l.kt)("admonition",{title:"TODO",type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"\u65bd\u5de5\u4e2d")),(0,l.kt)("h2",{id:"\u57fa\u7840\u76d1\u542c"},"\u57fa\u7840\u76d1\u542c"),(0,l.kt)("p",null,"\u5bf9\u4e8b\u4ef6\u7684\u76d1\u542c\u662f\u5bf9\u4e8e\u4e8b\u4ef6\u8c03\u5ea6\u7684\u57fa\u7840\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"Simple Application")," \u4e0b\u6765\u804a\u804a\u4e8b\u4ef6\u76d1\u542c\u7684\u6ce8\u518c\u3002"),(0,l.kt)("h3",{id:"\u9884\u6ce8\u518c"},"\u9884\u6ce8\u518c"),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"Simple Application")," \u7684\u6784\u5efa\u9636\u6bb5\uff0c\u5176\u63d0\u4f9b\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"eventProcessor")," \u4f5c\u7528\u57df\u6765\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u4e8b\u4ef6\u5904\u7406\u5668"),"\n\uff08\u6216\u8005\u8bf4",(0,l.kt)("strong",{parentName:"p"},"\u4e8b\u4ef6\u8c03\u5ea6\u5668"),"\uff09\u6765\u63d0\u4f9b\u914d\u7f6e\uff0c\u800c\u5bf9\u4e8b\u4ef6\u7684\u9884\u6ce8\u518c\u4fbf\u53ef\u4ee5\u5728\u8fd9\u5176\u4e2d\u5b8c\u6210\uff1a"),(0,l.kt)(i.Z,{groupId:"code",mdxType:"Tabs"},(0,l.kt)(r.Z,{value:"Kotlin",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin"},"simbotApplication(Simple) { \n    eventProcessor { \n        listeners {\n            // \u76d1\u542c\u51fd\u6570\u4f5c\u7528\u57df  \n            \n            // \u65b9\u5f0f1\n            listen(FooEvent) {\n                match { true }\n                process { \n                    // \u4e8b\u4ef6\u5904\u7406\u903b\u8f91...\n                }\n            }\n            \n            // \u65b9\u5f0f2\n            FooEvent {\n                // \u4e8b\u4ef6\u5904\u7406\u903b\u8f91...\n            } onMatch { \n                true\n            }\n            \n            // \u901a\u8fc7\u8fd0\u7b97\u7b26\u76f4\u63a5\u6dfb\u52a0listener\n            val listener: EventListener = ...\n        \n            +listener   \n            +listener.toRegistrationDescription { \n                // ...\n            }\n        }\n        \n        // \u76f4\u63a5\u6dfb\u52a0listener\n        addListener(...)\n        addListenerRegistrationDescription(...)\n    }\n}\n"))),(0,l.kt)(r.Z,{value:"Java",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Applications.simbotApplication(\nSimple.INSTANCE,\n(configuration) -> Unit.INSTANCE,\nLambdas.suspendConsumer((builder, configuration) -> {\n    builder.eventProcessor((eventProcessorConfiguration, environment) -> {\n        // \u76f4\u63a5\u6dfb\u52a0\u76d1\u542c\u51fd\u6570\n        eventProcessorConfiguration.addListener(...);\n        eventProcessorConfiguration.addListenerRegistrationDescription(...);\n\n        // \u901a\u8fc7 listeners \u4f5c\u7528\u57df\n        eventProcessorConfiguration.listeners((generator) -> {\n            // \u6784\u5efa\u76d1\u542c\u51fd\u6570\n            generator.listen(Event.Root, listenerBuilder -> {\n                // \u5339\u914d\u903b\u8f91\n                listenerBuilder.match((context, event) -> true);\n                // \u5904\u7406\u903b\u8f91\n                listenerBuilder.process((context, event) -> {\n                    // \u4e8b\u4ef6\u5904\u7406\u903b\u8f91\n\n                });\n            });\n\n            return Unit.INSTANCE;\n        });\n        // ...\n\n        return Unit.INSTANCE;\n    });\n}));\n")))),(0,l.kt)("h2",{id:"boot\u76d1\u542c"},"BOOT\u76d1\u542c"),(0,l.kt)("h2",{id:"\u4e8b\u4ef6\u5904\u7406\u4e0a\u4e0b\u6587"},"\u4e8b\u4ef6\u5904\u7406\u4e0a\u4e0b\u6587"))}m.isMDXComponent=!0}}]);